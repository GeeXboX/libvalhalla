<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libvalhalla: grabber_list_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>grabber_list_t Struct Reference</h1><!-- doxytag: class="grabber_list_t" -->
<p>Structure for a grabber.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#ab36b6d42dc52034561bc8c8657b01331">name</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Textual identification of the grabber.  <a href="#ab36b6d42dc52034561bc8c8657b01331"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#ab06f2fbb2ce205d1df07835eb15978d6">caps_flag</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flags to define the capabilities of the grabber.  <a href="#ab06f2fbb2ce205d1df07835eb15978d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#a06a42f2cbdd00540d9d0af08c37f5390">init</a> )(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>, const <a class="el" href="structgrabber__param__t.html">grabber_param_t</a> *<a class="el" href="structgrabber__list__t.html#acdb47c7e4bdc0e823cae0e11e3a4ca7f">param</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init function for the grabber.  <a href="#a06a42f2cbdd00540d9d0af08c37f5390"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#a1ab52d1be7d6cc348de108f344c5590d">uninit</a> )(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Uninit function for the grabber.  <a href="#a1ab52d1be7d6cc348de108f344c5590d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#aeafbc4aa2b09a03ac94b870542f231e9">grab</a> )(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>, file_data_t *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Grabbing function for the grabber.  <a href="#aeafbc4aa2b09a03ac94b870542f231e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#a4ec024d223322457485bcacea0b23e94">loop</a> )(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function called for each end of scan loop.  <a href="#a4ec024d223322457485bcacea0b23e94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private data for the grabber.  <a href="#a3efae683c0709b729e8d34a624ce6b76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgrabber__param__t.html">grabber_param_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrabber__list__t.html#acdb47c7e4bdc0e823cae0e11e3a4ca7f">param</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parameters for the grabber.  <a href="#acdb47c7e4bdc0e823cae0e11e3a4ca7f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Structure for a grabber. </p>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00091">91</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ab06f2fbb2ce205d1df07835eb15978d6"></a><!-- doxytag: member="grabber_list_t::caps_flag" ref="ab06f2fbb2ce205d1df07835eb15978d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structgrabber__list__t.html#ab06f2fbb2ce205d1df07835eb15978d6">grabber_list_t::caps_flag</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flags to define the capabilities of the grabber. </p>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00097">97</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeafbc4aa2b09a03ac94b870542f231e9"></a><!-- doxytag: member="grabber_list_t::grab" ref="aeafbc4aa2b09a03ac94b870542f231e9" args=")(void *priv, file_data_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structgrabber__list__t.html#aeafbc4aa2b09a03ac94b870542f231e9">grabber_list_t::grab</a>)(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>, file_data_t *data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Grabbing function for the grabber. </p>
<p>This function is called in order to populate the attributes <code>meta_grabber</code> and <code>list_downloader</code> in the <code>data</code> structure. All others attributes must be considered as read-only! Only them are thread-safe for writing.</p>
<p>To add new metadata in the database, the function vh_metadata_add() must be used on <code>meta_grabber</code>.</p>
<p>It is proibited to download files (images for example) with this function. Only textual metadata are proceeded here. But the reference on an image can be saved in the meta_grabber attribute. To download a file, the URL and the destination must be prepared for the downloader with the function vh_file_dl_add() in order to populate the <code>list_downloader</code> attribute. The files will be downloaded after the grabbing step.</p>
<p>To read <code>meta_parser</code> (attribute populated by the parser), you must use the function vh_metadata_get().</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priv</em>&nbsp;</td><td>Private structure registered with the grabber. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>File structure where some data must be populated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 for success, != 0 on error. </dd></dl>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00147">147</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06a42f2cbdd00540d9d0af08c37f5390"></a><!-- doxytag: member="grabber_list_t::init" ref="a06a42f2cbdd00540d9d0af08c37f5390" args=")(void *priv, const grabber_param_t *param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structgrabber__list__t.html#a06a42f2cbdd00540d9d0af08c37f5390">grabber_list_t::init</a>)(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>, const <a class="el" href="structgrabber__param__t.html">grabber_param_t</a> *<a class="el" href="structgrabber__list__t.html#acdb47c7e4bdc0e823cae0e11e3a4ca7f">param</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init function for the grabber. </p>
<p>This initialization is called only at the init of an instance of valhalla. The private structure (<code>priv</code>) must be created before this initialization.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priv</em>&nbsp;</td><td>Private structure registered with the grabber. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>param</em>&nbsp;</td><td>Parameters, see <a class="el" href="structgrabber__param__t.html" title="Structure for the init of a grabber.">grabber_param_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 for success, != 0 on error. </dd></dl>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00109">109</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4ec024d223322457485bcacea0b23e94"></a><!-- doxytag: member="grabber_list_t::loop" ref="a4ec024d223322457485bcacea0b23e94" args=")(void *priv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structgrabber__list__t.html#a4ec024d223322457485bcacea0b23e94">grabber_list_t::loop</a>)(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function called for each end of scan loop. </p>
<p>This function is optional, it is called after each scanner loop if there are more than one loop. This function is never called after the last loop. It is useful to make some cleanup in the grabber before the next scan.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priv</em>&nbsp;</td><td>Private structure registered with the grabber. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00158">158</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab36b6d42dc52034561bc8c8657b01331"></a><!-- doxytag: member="grabber_list_t::name" ref="ab36b6d42dc52034561bc8c8657b01331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="structgrabber__list__t.html#ab36b6d42dc52034561bc8c8657b01331">grabber_list_t::name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Textual identification of the grabber. </p>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00095">95</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="acdb47c7e4bdc0e823cae0e11e3a4ca7f"></a><!-- doxytag: member="grabber_list_t::param" ref="acdb47c7e4bdc0e823cae0e11e3a4ca7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgrabber__param__t.html">grabber_param_t</a> <a class="el" href="structgrabber__list__t.html#acdb47c7e4bdc0e823cae0e11e3a4ca7f">grabber_list_t::param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parameters for the grabber. </p>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00168">168</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3efae683c0709b729e8d34a624ce6b76"></a><!-- doxytag: member="grabber_list_t::priv" ref="a3efae683c0709b729e8d34a624ce6b76" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">grabber_list_t::priv</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private data for the grabber. </p>
<p>The data is registered at the same time that the grabber. </p>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00165">165</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ab52d1be7d6cc348de108f344c5590d"></a><!-- doxytag: member="grabber_list_t::uninit" ref="a1ab52d1be7d6cc348de108f344c5590d" args=")(void *priv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structgrabber__list__t.html#a1ab52d1be7d6cc348de108f344c5590d">grabber_list_t::uninit</a>)(void *<a class="el" href="structgrabber__list__t.html#a3efae683c0709b729e8d34a624ce6b76">priv</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Uninit function for the grabber. </p>
<p>This unititialization is called only at the uninit of an instance of valhalla. The private structure (<code>priv</code>) must be released in this function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>priv</em>&nbsp;</td><td>Private structure registered with the grabber. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="grabber__common_8h_source.html#l00120">120</a> of file <a class="el" href="grabber__common_8h_source.html">grabber_common.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="grabber__common_8h_source.html">grabber_common.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sun Oct 3 18:38:35 2010 for libvalhalla by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
